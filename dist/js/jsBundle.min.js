!function(){"use strict";function t(t,e){t.state("Welcome",{url:"/",templateUrl:"/views/welcome_page.html"}).state("Register",{url:"/Register",templateUrl:"/views/user_register.html"}).state("Login",{url:"/Login",templateUrl:"/views/user_login.html"}).state("Home",{url:"/Home",templateUrl:"/views/home_page.html"}).state("Business",{url:"/Business",templateUrl:"/views/business_page.html"}).state("Discovery",{url:"/Discovery",templateUrl:"/views/discovery_page.html"}).state("MyPost",{url:"/MyPost",templateUrl:"/views/mypost_page.html"}).state("Profile",{url:"/Profile",templateUrl:"/views/profile_page.html"}).state("TakePhoto",{url:"/TakePhoto",templateUrl:"/views/takephoto_page.html"}),e.otherwise("/")}angular.module("app",["ui.router"]).config(t),t.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function t(t){}angular.module("app").controller("BusinessController",t),t.$inject=["HomeFactory"]}(),function(){"use strict";function t(t,e){var o=this;o.upload=function(){t.upload()}}angular.module("app").controller("HomeController",t),t.$inject=["HomeFactory","UserFactory"]}(),function(){"use strict";function t(t){}angular.module("app").controller("ModalController",t),t.$inject=["UserFactory"]}(),function(){"use strict";function t(t){}angular.module("app").controller("MyPostController",t),t.$inject=["HomeFactory"]}(),function(){"use strict";function t(t,e,o,s,r){function n(){var o=l.user;return o.email&&o.password&&o.cpassword&&o.password===o.cpassword?void t.register(o).then(function(){e.go("Home")}):!1}function a(){t.login(l.user).then(function(){e.go("Home")})}function u(){t.facebook().then(function(){e.go("Home")})}var l=this;l.user={},l.status=t.status,l.register=n,l.login=a,l.facebook=u,l.logout=t.logout,l.scrollTo=function(t){r.hash(t),console.log(r.hash()),s()}}angular.module("app").controller("NavbarController",t),t.$inject=["UserFactory","$state","$scope","$anchorScroll","$location"]}(),function(){"use strict";function t(t){}angular.module("app").controller("SearchController",t),t.$inject=["HomeFactory"]}(),function(){"use strict";function t(t,e){function o(){t.post("/api/Photos/upload")}var s={};return s.upload=o,s}angular.module("app").factory("HomeFactory",t),t.$inject=["$http","$q"]}(),function(){"use strict";function t(t,e){function o(o){var s=e.defer();return t.post("/api/Users/Register",o).success(function(t){a(t.token),m.status.isLoggedIn=!0,s.resolve()}),s.promise}function s(o){var s={email:o.email.toLowerCase(),password:o.password},r=e.defer();return t.post("/api/Users/Login",s).success(function(t){a(t.token),m.status.isLoggedIn=!0,r.resolve()}),r.promise}function r(){var o=e.defer();return t.get("/api/Facebook/auth/facebook").success(function(t){a(t.token),m.status.isLoggedIn=!0,o.resolve()}),o.promise}function n(){m.status.isLoggedIn=!1,l()}function a(t){localStorage.setItem("token",t),m.status.first_name=i(),m.status.last_name=c(),m.status.image=p()}function u(){return localStorage.token}function l(){localStorage.removeItem("token"),m.status.first_name=null,m.status.last_name=null,m.status.image=null}function i(){return JSON.parse(atob(u().split(".")[1])).first_name}function c(){return JSON.parse(atob(u().split(".")[1])).last_name}function p(){return JSON.parse(atob(u().split(".")[1])).image}var m={};return m.status={},u()&&(m.status.isLoggedIn=!0,m.status.first_name=i(),m.status.last_name=c(),m.status.image=p()),m.setToken=a,m.getToken=u,m.removeToken=l,m.register=o,m.login=s,m.facebook=r,m.logout=n,m}angular.module("app").factory("UserFactory",t),t.$inject=["$http","$q"]}();