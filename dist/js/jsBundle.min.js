!function(){"use strict";function e(e,t){e.state("Welcome",{url:"/",templateUrl:"/views/welcome_page.html"}).state("Register",{url:"/Register",templateUrl:"/views/user_register.html"}).state("Login",{url:"/Login",templateUrl:"/views/user_login.html"}).state("Home",{url:"/Home",templateUrl:"/views/home_page.html"}).state("Business",{url:"/Business",templateUrl:"/views/business_page.html"}).state("Discovery",{url:"/Discovery",templateUrl:"/views/discovery_page.html"}).state("MyPost",{url:"/MyPost",templateUrl:"/views/mypost_page.html"}).state("Profile",{url:"/Profile",templateUrl:"/views/profile_page.html"}).state("TakePhoto",{url:"/TakePhoto",templateUrl:"/views/takephoto_page.html"}),t.otherwise("/")}angular.module("app",["ui.router"]).config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){}angular.module("app").controller("BusinessController",e),e.$inject=["HomeFactory"]}(),function(){"use strict";function e(e,t){}angular.module("app").controller("HomeController",e),e.$inject=["HomeFactory","UserFactory"]}(),function(){"use strict";function e(e){}angular.module("app").controller("ModalController",e),e.$inject=["UserFactory"]}(),function(){"use strict";function e(e){}angular.module("app").controller("MyPostController",e),e.$inject=["HomeFactory"]}(),function(){"use strict";function e(e,t,o,r,s){function n(){var o=l.user;return o.username&&o.email&&o.password&&o.cpassword&&o.password===o.cpassword?void e.register(o).then(function(){t.go("Home")}):!1}function a(){e.login(l.user).then(function(){t.go("Home")})}function u(){e.facebook().then(function(){t.go("Home")})}var l=this;l.user={},l.status=e.status,l.register=n,l.login=a,l.facebook=u,l.logout=e.logout,l.scrollTo=function(e){s.hash(e),console.log(s.hash()),r()}}angular.module("app").controller("NavbarController",e),e.$inject=["UserFactory","$state","$scope","$anchorScroll","$location"]}(),function(){"use strict";function e(e){}angular.module("app").controller("SearchController",e),e.$inject=["HomeFactory"]}(),function(){"use strict";function e(e,t){var o={};return o}angular.module("app").factory("HomeFactory",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(e,t){function o(o){var r=t.defer();return e.post("/api/Users/Register",o).success(function(e){a(e.token),c.status.isLoggedIn=!0,r.resolve()}),r.promise}function r(o){var r={email:o.email.toLowerCase(),password:o.password},s=t.defer();return e.post("/api/Users/Login",r).success(function(e){a(e.token),c.status.isLoggedIn=!0,s.resolve()}),s.promise}function s(){var o=t.defer();return e.get("/api/Facebook/auth/facebook").success(function(e){a(e.token),c.status.isLoggedIn=!0,o.resolve()}),o.promise}function n(){c.status.isLoggedIn=!1,l()}function a(e){localStorage.setItem("token",e),c.status.username=i()}function u(){return localStorage.token}function l(){localStorage.removeItem("token"),c.status.username=null}function i(){return JSON.parse(atob(u().split(".")[1])).username}var c={};return c.status={},u()&&(c.status.isLoggedIn=!0,c.status.username=i()),c.setToken=a,c.getToken=u,c.removeToken=l,c.register=o,c.login=r,c.facebook=s,c.logout=n,c}angular.module("app").factory("UserFactory",e),e.$inject=["$http","$q"]}();