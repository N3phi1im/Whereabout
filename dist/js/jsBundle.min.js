!function(){"use strict";function e(e,t){e.state("Welcome",{url:"/",templateUrl:"/views/welcome_page.html"}).state("Register",{url:"/Register",templateUrl:"/views/user_register.html"}).state("Login",{url:"/Login",templateUrl:"/views/user_login.html"}).state("Home",{url:"/Home",templateUrl:"/views/home_page.html"}),t.otherwise("/")}angular.module("app",["ui.router"]).config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(){var e=this;e.title="Welcome to our App!"}angular.module("app").controller("HomeController",e),e.$inject=[]}(),function(){"use strict";function e(e,t){function o(){var o=s.user;return o.username&&o.email&&o.password&&o.cpassword&&o.password===o.cpassword?void e.register(o).then(function(){t.go("Home")}):!1}function r(){e.login(s.user).then(function(){t.go("Home")})}var s=this;s.user={},s.status=e.status,s.register=o,s.login=r,s.logout=e.logout}angular.module("app").controller("NavbarController",e),e.$inject=["UserFactory","$state"]}(),function(){"use strict";function e(e,t){var o={};return o}angular.module("app").factory("HomeFactory",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(e,t){function o(o){var r=t.defer();return e.post("/api/Users/Register",o).success(function(e){n(e.token),l.status.isLoggedIn=!0,r.resolve()}),r.promise}function r(o){var r={username:o.username.toLowerCase(),password:o.password},s=t.defer();return e.post("/api/Users/Login",r).success(function(e){n(e.token),l.status.isLoggedIn=!0,s.resolve()}),s.promise}function s(){l.status.isLoggedIn=!1,a()}function n(e){localStorage.setItem("token",e),l.status.username=i()}function u(){return localStorage.token}function a(){localStorage.removeItem("token"),l.status.username=null}function i(){return JSON.parse(atob(u().split(".")[1])).username}var l={};return l.status={},u()&&(l.status.isLoggedIn=!0,l.status.username=i()),l.setToken=n,l.getToken=u,l.removeToken=a,l.register=o,l.login=r,l.logout=s,l}angular.module("app").factory("UserFactory",e),e.$inject=["$http","$q"]}();